#ifndef CONFIG_H
#define CONFIG_H

#define USART1_BAUDRATE 115200

#define BUCK_BOOST_PERIOD 200
#define BUCK_BOOST_AVERAGE_SAMPLES 10000

#define VOLTAGE_TO_ADC(voltage) ((int)((voltage) * 4095 * 47.5 / (2.5 * (220.0 + 47.5)) + 0.5))
#define ADC_TO_VOLTAGE(adc) (((adc) - 0.5) * (2.5 * (220.0 + 47.5)) / (4095 * 47.5))

#define SINGLE_CELL_LOW_THRESHOLD VOLTAGE_TO_ADC(3.6f)
#define VBATT_LOW_THRESHOLD VOLTAGE_TO_ADC(11.0f)
#define VBATT_MAX_THRESHOLD VOLTAGE_TO_ADC(12.1f)
#define VSOLAR_START_CHARGING_THRESHOLD VOLTAGE_TO_ADC(3.0f)

#define MIN_BALANCE_DIFF_THRESHOLD VOLTAGE_TO_ADC(0.2f)

#endif
